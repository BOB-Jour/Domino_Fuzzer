<!DOCTYPE html>
<canvas id='canvas' style="contain: strict">
<script>
function poc()
{
  var canvas = document.getElementById("canvas");
  // Make sure the canvas is accelerated
  canvas.width = 1024;
  canvas.height = 1024;
  var ctx = canvas.getContext('2d');

  // Wait two frames, then create the accelerated, composited context.
  // The compositor should detect this change and bubble up the parent layers
  // otherwise a DCHECK will fail and crash the process
  requestAnimationFrame(() => {
    requestAnimationFrame(() => {
        <jsfuzzer>
      ctx.fillRect(0, 0, 1, 1);
    });
  });
}
poc();
</script>
